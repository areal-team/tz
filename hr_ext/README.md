# Технологии
- Draw.io
- Git / Github
- Vue.js (3.5) / Quasar / Vite
- Node.JS (22) / NestJS (10). Пакеты, которые рекомендуется использовать в работе:
    - pg - Для работы с базой данных
    - node-pg-migrate - Для подготовки миграций для базы данных
    - @nestjs/passport - Для идентификации, аутентификации, авторизации пользователя
    - joi - Для валидации данных
- Nginx
- PostgreSQL
- Docker / Docker Compose
- VitePress

Взаимодействие между frontend и backend осуществляется при помощи REST API. При реализации проекта для всех артефактов используется 1 репозиторий (в репозитории должны храниться: исходный код (frontend и backend), схема базы данных, Dockerfile,  документация для пользователя и администратора для запуска приложения).

При реализации проекта рекомендуется использовать следующие среды для разработки:

- **IntelliJ IDEA / PhpStorm / WebStorm**
- Visual Studio Code и DBeaver (менее предпочтительно)

Рекомендуемая операционная система в которой необходимо реализовывать проект:

- **Ubuntu Desktop 24.04 / Linux Mint 22 с установленным Docker**
- Windows 10/11 с установленным WSL2 и Docker Desktop (менее предпочтительно)
- Windows 10/11 / Hyper-V / VirtualBox с виртуальной машиной Ubuntu Desktop 24.04 / Linux Mint 22 с установленным Docker (менее предпочтительно)
- macOS Sequoia 15.0 / macOS Sonoma 14.7 с установленным Docker Desktop (менее предпочтительно)

PostgreSQL 17:
- Использовать Docker контейнер (рекомендовано при разработке)
- Ставить в операционную систему (рекомендовано при реальной эксплуатации)

## Репозиторий
Создать Git репозиторий https://github.com/<ваш логин>/areal-hr_ext-test. Коммититься нужно как можно чаще, при проверке будет учитываться содержательность сообщений коммита и порции, которыми коммиты осуществляются.

## Структура проекта


```plaintext
areal-hr-test-2025/
├── /api/................................
│   ├── /node_modules/...................
│   ├── /migrations/.....................
├── /app/................................
│   ├── /node_modules/...................
├── /containers/.........................
│   ├── /api/............................
│   │   ├── Dockerfile...................
│   ├── /app/............................
│   │   ├── Dockerfile...................
├── /docs/...............................
├── /.gitignore..........................
├── /.env................................
├── /.env.example........................
├── /docker-compose.yml..................
├── /README.md/..........................
```
## Задание
Реализовать веб-приложение, в котором специалист по кадрам ведет учет сотрудников в нескольких организациях.
### Данные, которые заполняет специалист по кадрам
- Организации
  - Наименование
  - Комментарий
- Отделы (допускается вложенная структура)
  - Организация - Связь
  - Наименование
  - Родитель - Связь
  - Комментарий
- Должности
  - Наименование
- Сотрудники
  - Фамилия
  - Имя
  - Отчество
  - Дата рождения
  - Паспортные данные - серия, номер, дата выдачи, код подразделения, кем выдан
  - Адрес регистрации - Область, Населенный пункт, Улица, Дом, Корпус, Квартира
  - Скан паспорта - Связь, Множественное
- Файлы
  - Название
  - Файл
- Кадровые операции
  - Сотрудник - Связь
  - Принятие на работу
    - Отдел - Связь
    - Должность - Связь
    - Установка зарплаты
  - Действия
    - Изменение зарплаты
    - Изменения отдела
    - Увольнение с работы
- История изменений
  - Дата и время операции
  - Кто изменил
  - Объект операции - Организация, Отдел, Должность, Сотрудник, Кадровая операция
  - Измененные поля
### Управление пользователями
Для доступа к веб-приложению пользователю требуется ввести его логин и пароль. В веб-приложении должен вестись список пользователей их роли и доступы. Поля у пользователей:
  - Фамилия
  - Имя
  - Отчество
  - Логин
  - Пароль в зашифрованном виде Argon2id
  - Роль
Предусмотреть следующую ролевую модель:
  - Администратор - доступно управление пользователями (создание новых менеджеров, регулирование прав доступа), кадровые операции.
  - Менеджер по персоналу - доступно управление кадровыми операциями.

При работе с пользователями рекомендуется использовать пакет @nestjs/passport со стратегией Passport Local Strategy (JWT использовать не требуется).

По работе со всеми данными должны быть реализованы CRUD (Create - создание, Read - чтение, Update - обновление и Delete - удаление) операции. При реализации операции удаление должно осуществляться мягкое удаление записи (Для пользователя отображается, что запись удалена, но в базе данных запись остается и только помечается удаленной).

### Выставление проекта в Интернет *
> *- Дополнительная необязательная задача для того, кто хочет попробовать запустить приложение в среде приближенной к PROD.

Требуется разместить разработанное веб-приложение в сети интернет. Для этого требуется:

1. Зарегистрировать домен
  - https://reg.ru/
  - https://nic.ru/
2. Арендовать виртуальный сервер (Ubuntu 24.04)
  - https://cloud.ru/offers/free-tier 
  - https://cloud.vk.com/cloud-servers/ 
  - https://yandex.cloud/ru/docs/getting-started/usage-grant 
  - https://www.reg.ru/vps/
  - https://timeweb.com/ru/services/vds/
3. Создать A запись в зарегистрированном домене и направить её на арендованный сервер.
4. Поднять веб-приложения используя ранее подготовленные образы через файл docker-compose.yml

### Этапность при выполнении задачи
К дате и времени указанную в колонке “Ожидаемая готовность задания” необходимо выполнить задание и отправить коммит в репозиторий
<table>
    <tr>
        <th>№ недели</th>
        <th>Должно быть готово</th>
    </tr>
    <tr>
        <td>1</td>
        <td> 1. Подготовлена схема базы данных в Draw.io <br>
             2. Подготовлена структура проекта <br>
             3. Определиться с используемым инструментарием для реализации проекта (операционная система, IDE, как будет установлен PostgreSQL), зафиксировать эту информацию в файле README.md <br>
             4. Изучены инструменты по работе с системой контроля версий Git в консоли и в вашем IDE, информация об основных командах должна быть зафиксирована в файле README.md </td>
    </tr>
    <tr>
        <td>2</td>
        <td>Реализация CRUD по организациям, отделам, должностям</td>
    </tr>
    <tr>
        <td>3</td>
        <td>Реализация CRUD по сотрудникам, файлам, кадровым операциям, историей изменений</td>
    </tr>
    <tr>
        <td>4</td>
        <td>Отладка и исправление по предыдущим двум неделям работ</td>
    </tr>
   <tr>
        <td>5</td>
        <td>Реализации механизмов по управлению пользователями</td>
    </tr>
    <tr>
        <td>6</td>
        <td>Реализации механизмов идентификации, аутентификации, авторизации пользователей</td>
    </tr>
   <tr>
        <td>7</td>
        <td>Начало подготовки файлов для запуска приложений используя Docker Compose</td>
    </tr>
    <tr>
        <td>8</td>
        <td>Завершение подготовки файлов для запуска приложений используя Docker Compose</td>
    </tr>
   <tr>
        <td>9</td>
        <td>Полностью реализованное задание с подготовленной краткой и подробной документацией по проекту. Для желающих выполненное задание со *</td>
    </tr>
</table>
